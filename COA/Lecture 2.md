# COA-Lecture-2: A Top-Level View of Computer Organization and Architecture

## 1. von Neumann Architecture and Basic Concepts

The design of most modern computers is based on concepts developed by **John von Neumann**.

### Key Concepts (The von Neumann Model)
1.  **Ability to write/read data from memory**
2.  **Ability to execute instructions sequentially**
3.  **Ability to process inputs/outputs**

> This general-purpose computer approach replaced **hardwired programming** and introduced **Software**, allowing a programmer to supply a new set of control signals (program) without rewiring the hardware.

### Main Components
* **Central Processing Unit (CPU)**: Contains an instruction interpreter and a general-purpose module for arithmetic/logic functions.
* **Main Memory**: Stores both instructions and data.
* **I/O Modules**: Contains basic components for accepting data/instructions and sending back results.

### CPU Internal Registers
| Register | Acronym | Function |
| :--- | :--- | :--- |
| **Program Counter** | PC | Specifies the memory address of the next instruction to be executed. |
| **Instruction Register** | IR | Holds the instruction currently being executed or decoded. |
| **Memory Address Register** | MAR | Specifies the memory address to be read or written. |
| **Memory Buffer Register** | MBR | Contains the data to be written into or received from memory. |

---

## 2. Program Execution and Instruction Cycle

Computer execution consists of two basic, repeating steps:
1.  **Instruction Fetch**: Reads instructions from memory one at a time.
2.  **Instruction Execution**: Executes each fetched instruction.

### Instruction Cycle Actions
When the processor interprets an instruction, the required actions generally fall into four categories:
* **Processor-memory**: Data transfer between the processor and memory.
* **Processor-I/O**: Data transfer between the processor and a peripheral device via an I/O module.
* **Data processing**: Arithmetic or logic operations on data.
* **Control**: Altering the sequence of instruction execution.

### Detailed Instruction Cycle States
* **IAC (Instruction Address Calculation)**: Determine the address of the next instruction.
* **IF (Instruction Fetch)**: Read instruction from memory into the processor (IR).
* **IOD (Instruction Operation Decoding)**: Determine the type of operation and operands to be used.
* **OAC (Operand Address Calculation)**: Determine the address of the operand(s).
* **OF (Operand Fetch)**: Fetch the operand from memory or read it in from I/O.
* **DO (Data Operation)**: Perform the operation indicated in the instruction.
* **OS (Operand Store)**: Write the result into memory or to I/O.

---

## 3. Interrupt Mechanism

An **interrupt** is a mechanism that allows the computer to be suspended from its current program execution to handle an external or internal event.

### Situations Requiring Interrupts
* **Program**: Arithmetic overflow, division by zero, or segmentation fault.
* **Timer**: To execute something periodically.
* **I/O**: To exchange communication between I/O devices and the processor.
* **Hardware**: Generated by a hardware failure like a memory parity error.

### Interruption Processing Steps
1.  **Suspends execution** of the current program.
2.  **Saves the context** (e.g., saving the **PC** and contents of registers).
3.  Sets the **PC** to the starting address of the **Interrupt Handler Routine**.
4.  **Restarts the instruction cycle** for the handler routine.
5.  Upon completion, the processor **restores the context** and resumes execution of the original program.

### Handling Multiple Interrupts
| Approach | Description | Advantages | Disadvantages |
| :--- | :--- | :--- | :--- |
| **Disable Interrupts** | Processor ignores interrupt requests while an interrupt is being processed. | Simple to implement. | Higher-priority interrupts may be ignored; introduces latency. |
| **Nested Interrupt Processing** | Allows a higher-priority interrupt to interrupt a lower-priority one. | Ensures timely response to critical events. | More complex to implement. |

---

## 4. Interconnection Structure

The collection of paths connecting the various computer modules (CPU, Memory, I/O) is called the **interconnection structure**.

### 1. Bus Interconnection (System Bus)
A bus is a shared communication pathway. Only one device can transmit at a time.

Bus lines are classified into three functional groups:
* **Data lines**: For moving data among system modules. **Data bus width** is key to system performance.
* **Address lines**: Used to designate the source or destination of the data. **Address bus width** determines the maximum system memory.
* **Control lines**: For transmitting command information (e.g., Memory write, I/O read, Bus request).

> **Problem**: Bus structure has performance issues due to propagation delay and limited bus capacity.

### 2. Point-To-Point Interconnection (P2P)
Modern computers use P2P interconnection because it offers **lower latency, higher data rate, and better scalability** than a shared bus.
* **Examples**:
    * Intel's **QuickPath Interconnect (QPI)**
    * **PCI Express (PCIe)**: An interface standard for connecting high-speed I/O components.
